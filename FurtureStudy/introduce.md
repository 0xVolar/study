# 这是用于中心化交易所合约学习的记录，本文档将会记录学习过程中遇到的问题和相应的思考解决方法

## 2025/12/11 
- 开仓亏损计算逻辑是什么？
  - `开多：合约数量 * abs(min(0, 1 * (标记价格 - 订单价格)))`
  - `开空：合约数量 * abs(min(0, -1 * (标记价格 - 订单价格)))`
  - 加入开仓亏损，是为了避免在极端情况下产生用户开仓-穿仓-平仓的离谱操作
- 如果把开仓亏损加入到开仓成本当中该如何进行计算和扣费？
  - 设计风控层设计以及前端展示，后续相应板块讨论
- 维持保证金与开仓保证金的区别？
  - 开仓保证金：完成开仓的最低保证金数量，保证能够进场
  - 维持保证金：维持头寸的最低保证金数量，保证能留在场内

## 2025/12/12
- 合约交易是如何形成对手盘的？，与现货的对手盘有区别吗？
- 完成标记价格与指数价格的了解
- 完成维持保证金，维持保证金率的了解
- 后续增加标记价格推导过程，EMA、SMA推导过程